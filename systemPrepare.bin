#!/usr/bin/env bash
setup(){
	
	#prepare environment and dependencies
#	./installDocker.bin
#	./cloneGit.bin
# 	./namespaceObfsc.bin
	./imageBuild.bin

	#Spin up Nginx Container
	#This code needs a better loop execution
	########This code causes errors##########
	#sudo docker run -d ${NGINX}| sudo tee -a out.txt
	#THIS CODE CAN THROW ERRORS: ${SPLASHSCREEN} -p 8080:80 
	#$NGINX_ID<out.txt
	#wait ${NGINX_ID}
	#sudo rm -r out.txt
	#########################################

	#throw an if loop in here somewhere for process validation when starting containers
	#Spin up Tor container when done
	docker run -p 8118:8118 -p 9050:9050 -d ${TOR} -u
	curl --proxy localhost:8118 https://www.duckduckgo.com

	echo "${TOR} is a testprint of variables"
}

if setup; then
	echo "********************************************"
	echo "This environment is set up and running okay!"
	echo "********************************************"
else
	echo"*******************************************************************"
	echo"Setup error! Refer to other error messages for troubleshooting help"
	echo"*******************************************************************"
fi
